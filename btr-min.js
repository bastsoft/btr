!function t(e,n,o){function r(c,a){if(!n[c]){if(!e[c]){var l="function"==typeof require&&require;if(!a&&l)return l(c,!0);if(i)return i(c,!0);var u=new Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u}var s=n[c]={exports:{}};e[c][0].call(s.exports,function(t){var n=e[c][1][t];return r(n?n:t)},s,s.exports,t,e,n,o)}return n[c].exports}for(var i="function"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(t,e,n){window.btr={};var o=t("./module/utils.js"),r=t("./module/config.js"),i=t("./module/load.js"),c=t("./module/gist.js"),a=t("./module/contextMenu.js"),l=t("./module/relay.js"),u=t("./module/tumbler.js");o.extend(window.btr,i),o.extend(window.btr,c),o.extend(window.btr,a),o.extend(window.btr,l),o.extend(window.btr,u),window.btr.save=function(){o.saveToJsonFile(btr.config.gists,"save.json")},window.btr.newConfig=r},{"./module/config.js":2,"./module/contextMenu.js":3,"./module/gist.js":5,"./module/load.js":6,"./module/relay.js":7,"./module/tumbler.js":8,"./module/utils.js":9}],2:[function(t,e,n){var o=t("./utils.js");window.btr.config={gistUrl:"https://gist.github.com/"},e.exports=function(t){return o.extend(window.btr.config,t||[]),window.btr.config}},{"./utils.js":9}],3:[function(t,e,n){function o(t,e){var n=r(e),o=a.uniqId(),i=document.querySelectorAll(t);n.setAttribute("type","context"),n.setAttribute("id",o),Array.prototype.forEach.call(i,function(t){t.setAttribute("contextmenu",o),document.body.appendChild(n)}),l()}function r(t){var e=document.createElement("menu");return Object.keys(t).forEach(function(n){var o=t[n].constructor===Object?i:c;e.appendChild(o(n,t[n]))}),e}function i(t,e){var n=r(e);return n.setAttribute("label",t),n}function c(t,e){var n=document.createElement("menuitem");return n.setAttribute("label",t),document.addEventListener?n.addEventListener("click",e,!1):n.attachEvent("onclick",e),n}var a=t("./utils.js"),l=t("./contextMenuPolyfill.js"),u=function(t,e){"object"==typeof t?t.forEach(function(t){o(t,e)}):o(t,e)};e.exports={contextMenu:u}},{"./contextMenuPolyfill.js":4,"./utils.js":9}],4:[function(t,e,n){function o(t,e){var n=Number(t.style.width.replace("px",""));e=9*e+35,t.style.width=(e>n?e:n)+"px"}function r(t){var e=t.getAttribute("id"),n=document.querySelectorAll("[contextmenu="+e+"]"),o=function(){t.style.display="none"};Array.prototype.forEach.call(n,function(t){t.setAttribute("oncontextmenu","return btr.onContextMenuClick(event, "+e+")")}),document.addEventListener?document.addEventListener("click",o,!1):document.attachEvent("onclick",o)}function i(){var t=window.document;return null!=window.pageXOffset?{x:window.pageXOffset,y:window.pageYOffset}:"CSS1Compat"===document.compatMode?{x:t.documentElement.scrollLeft,y:t.documentElement.scrollTop}:{x:t.body.scrollLeft,y:t.body.scrollTop}}var c=t("./utils.js");Element.prototype.wrap=function(t){t.length||(t=[t]);for(var e=t.length-1;e>=0;e-=1){var n=e>0?this.cloneNode(!0):this,o=t[e],r=o.parentNode,i=o.nextSibling;n.appendChild(o),i?r.insertBefore(n,i):r.appendChild(n)}};var a=function(){var t=document.createElement("style");t.type="text/css";var e='     menu {        z-index: 2147483000;        position:absolute;        display: none;        background-color: #eee;        margin:0;        padding: .5em 0;        font-family: monospace;        font-size: 14px;    }    menu div{        height:1em;    }    menuitem:hover{        background-color: #39f;        cursor: pointer;    }    menu div:hover>menuitem{        background-color: #39f;    }    menu>div>menuitem:before {        content: ">";        position: relative;        right: -90%;    }    menu div:hover>menu{        display: block;        position: relative;        top: -1.5em;        right: -100%;    }    menuitem{        display: block;        padding: 0 .5em;    }        ';t.styleSheet?t.styleSheet.cssText=e:t.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(t),Array.prototype.forEach.call(document.querySelectorAll('menu[type="context"]'),function(t){r(t),Array.prototype.forEach.call(t.querySelectorAll("menuitem"),function(t){var e=t.getAttribute("label");o(t.parentElement,e.length),t.innerHTML=e}),Array.prototype.forEach.call(t.querySelectorAll("menu"),function(t){var e=document.createElement("menuitem"),n=document.createElement("div"),r=t.getAttribute("label");o(t.parentElement,r.length),n.appendChild(e).innerHTML=r,n.wrap(t)})})};btr.onContextMenuClick=function(t,e){var n=i();return e&&e.style&&(e.style.left=t.clientX+n.x+"px",e.style.top=t.clientY+n.y+"px",e.style.display="block"),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,!1},e.exports=c.debounce(100,function(){/Firefox/.test(window.navigator.userAgent)||a()})},{"./utils.js":9}],5:[function(t,e,n){function o(t,e){-1!==s.gistUrl.indexOf("api")?f._loadGistFromAPI(t,e):f._loadGistFromJSONP(t,e)}function r(t){var e=null;return i(function(n,o){o===t&&(e=n[o])}),e}function i(t){var e=s.gists;Object.keys(e||{}).forEach(function(n){Object.keys(e[n]||{}).forEach(function(o){t(e[n],o)})})}function c(t,e){s.gists||(s.gists={}),s.gists[s.gistUrl]||(s.gists[s.gistUrl]={}),s.gists[s.gistUrl][t]||(s.gists[s.gistUrl][t]=e)}function a(t){var e=t.split('<div class="gist-file">').slice(1),n={},o=document.createElement("div"),r=function(t){return o.innerHTML=(t||"").replace(/<\/div>/g,"</div>\n"),(void 0===o.innerText?o.textContent:o.innerText).replace(/\n\n/g,"")};return e.forEach(function(t){var e=t.split('<div class="gist-meta">'),o=r(e[1].split("</a>")[1]+"</a>").replace(/[\n  ]/g,"");n[o]={content:r(e[0].split('<td class="line-data">')[1])}}),n}var l=t("./load.js"),u=t("./config.js"),s=u(),d=function(t){var e=null;return i(function(n,o){n[o][t]&&(e=new Function("",n[o][t].content))}),e},f=function(t,e){var n=t.file;t.url&&u({gistUrl:t.url}),n&&(e=function(){d(n)()}),t.id&&(t=t.id),f._loadGistFromId(t,e)};f._loadGistFromId=function(t,e){r(t)?e():o(t,e)},f._loadGistFromJSONP=function(t,e){l.loadJsonP(s.gistUrl+t+".json",function(n){var o=a(n.div);c(t,o),e()})},f._loadGistFromAPI=function(t,e){var n=new XMLHttpRequest;n.open("GET",s.gistUrl+t+"?"+(new Date).getTime(),!1),n.send(null),c(t,JSON.parse(n.responseText).files),e()},e.exports={loadGist:f,functionGist:d}},{"./config.js":2,"./load.js":6}],6:[function(t,e,n){function o(t,e){t.reverse(),t.forEach(function(t){var n="object"==typeof t?r:i;e=n.bind(this,t,e)},this),e()}function r(t,e){(t[0]?e:i.bind(this,t[1],e))()}function i(t,e){var n=-1===t.indexOf(".css")?c.bind(this,t):a.bind(this,t),o=n(function(){return o.readyState&&"complete"!==o.readyState&&"loaded"!==o.readyState?!1:(e&&e(),void o.parentNode.removeChild(o))});document.getElementsByTagName("head")[0].appendChild(o)}function c(t,e){var n=document.createElement("script");return n.type="text/javascript",n.src=t,e&&(n.onreadystatechange=e,n.onload=e),n}function a(t,e){var n=document.createElement("link");return n.rel="stylesheet",n.type="text/css",n.href=t,e(),n}var l=t("./utils.js"),u=function(t,e){return"object"!=typeof t?i.bind(this,t,e):void o(t,e)},s=function(t,e){var n=l.uniqId();window["fun"+n]=function(t){e(t),window["fun"+n]=null},u([t+"?callback=fun"+n])};e.exports={load:u,loadJsonP:s}},{"./utils.js":9}],7:[function(t,e,n){function o(t){var e="",n={};return Object.keys(t).forEach(function(o){"object"==typeof t[o]?(t[o]=r(o,t[o]),n[(localStorage[o]?"☑ ":"☐ ")+o]=t[o]):n[o]=t[o],e+='localStorage.removeItem("'+o+'"); '}),n["by default"]=new Function("",e),n}function r(t,e){var n={};return localStorage[t]&&e[localStorage[t]](),Object.keys(e).forEach(function(o){var r=localStorage[t]===o?"☑ ":"☐ ";n[r+o]=function(){e[o](),localStorage[t]=o}}),n["by default"]=function(){localStorage.removeItem(t)},n}var i=function(t,e){var n={};return t&&!e&&(e=t,t=void 0),n=t?r(t,e):o(e)};e.exports={relay:i}},{}],8:[function(t,e,n){var o=function(t){var e={};return Object.keys(t).forEach(function(n){var o=localStorage[n]?"☑ ":"☐ ";e[o+n]=function(){localStorage[n]=localStorage[n]?"":"yes",localStorage[n]&&t[n]()},localStorage[n]&&t[n]()}),e["on all"]=function(){Object.keys(t).forEach(function(e){localStorage[e]="yes",t[e]()})},e["off all"]=function(){Object.keys(t).forEach(function(t){localStorage[t]=""})},e};e.exports={tumbler:o}},{}],9:[function(t,e,n){var o=function(){return String.fromCharCode(65+Math.floor(26*Math.random()))+ +new Date},r=function(t,e){var n=new Blob([JSON.stringify(t,void 0,4)],{type:"text/json"}),o=document.createEvent("MouseEvents"),r=document.createElement("a");r.download=e,r.href=window.URL.createObjectURL(n),r.dataset.downloadurl=["text/json",r.download,r.href].join(":"),o.initEvent("click",!0,!0),r.dispatchEvent(o)},i=function(t,e){Object.keys(e).forEach(function(n){t[n]=e[n]})},c=function(t,e){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}};Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,n=Array.prototype.slice.call(arguments,1),o=function(){},r=function(){return e.apply(this instanceof o&&t?this:t,n.concat(Array.prototype.slice.call(arguments,0)))};return o.prototype=r.prototype=e.prototype,r}),"undefined"==typeof Object||Object.keys||(Object.keys=function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var n=this,o=0,r=n.length;r>o;++o)t.call(e||window,n[o],o,n)}),e.exports={uniqId:o,saveToJsonFile:r,extend:i,debounce:c}},{}]},{},[1]);